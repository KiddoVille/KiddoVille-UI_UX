<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./meal.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>Dashboard</h2>
            <ul>
                <li class="hover-effect unselected">
                    <a href="../Home/Home.html">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a>
                </li>
                <li class="hover-effect unselected">
                    <a href="../Attendance/Attendance.html">
                        <i class="fas fa-user-check"></i> Attendance
                    </a>
                </li>
                <li class="hover-effect unselected">
                    <a href="../History/history.html">
                        <i class="fas fa-history"></i> History
                    </a>
                </li>
                <li class="hover-effect unselected">
                    <a href="../Report/report.html">
                        <i class="fa fa-user-shield" aria-hidden="true"></i> Child Reports
                    </a>
                </li>
                <li class="hover-effect unselected">
                    <a href="../Reservation/reservation.html">
                        <i class="fas fa-calendar-check"></i> Reservation
                    </a>
                </li>
                <li class="selected" style="margin-top: 40px;">
                    <a href="../Meal/meal.html">
                        <i class="fas fa-utensils"></i> Meal plan
                    </a>
                </li>
                <li class="hover-effect unselected">
                    <a href="../Events/event.html">
                        <i class="fas fa-calendar-alt"></i> Event
                    </a>
                </li>
                <li class="hover-effect unselected">
                    <a href="../Package/package.html">
                        <i class="fas fa-box"></i> Package
                    </a>
                </li>
                <li class="hover-effect unselected">
                    <a href="../funzone/Home/home.html">
                        <i class="fas fa-gamepad"></i> Fun Zone
                    </a>
                </li>
                <li class="hover-effect unselected">
                    <a href="../Payment/payment.html">
                        <i class="fas fa-credit-card"></i> Payments
                    </a>
                </li>
            </ul>
            <hr style="margin-top: 40px;">
            <div class="help">
                <a href="#" style="text-decoration:none; color:purple"><i class="fas fa-question-circle"></i> Help</a>
            </div>
        </div>
        
        <div class="main-content">
            <div class="header">
                <div class="name">
                    <h1>Hey Thilina</h1>
                    <p>Let’s do some productive activities today</p>
                </div>
                <div class="search-bar">
                    <input type="text" placeholder="Search">
                    <i class="fas fa-search"></i>
                    <i class="fa fa-times clear-btn" style="margin-right: 10px;"></i>
                </div>
                <div class="bell-con" style="cursor: pointer;">
                    <i class="fas fa-bell bell-icon" style="margin-left: -350px;"></i>
                    <div class="message-dropdown" id="messageDropdown" style="display: none;">
                        <ul>
                            <li><p>New Message 1 <i class="fas fa-paper-plane"></i></p><p class="content">content like a message</p></li>
                            <li><p>New Message 2 <i class="fas fa-paper-plane"></i></p><p class="content">content like a message</p></li>
                            <li><p>New Message 3 <i class="fas fa-paper-plane"></i></p><p class="content">content like a message</p></li>
                            <li><p>New Message 4 <i class="fas fa-paper-plane"></i></p><p class="content">content like a message</p></li>
                            <li><p>New Message 5 <i class="fas fa-paper-plane"></i></p><p class="content">content like a message</p></li>
                            <li><p>New Message 6 <i class="fas fa-paper-plane"></i></p><p class="content">content like a message</p></li>
                        </ul>
                    </div>
                </div>
                <div class="message-numbers"><p>2</p></div>
                <div class="profile">
                    <button class="profilebtn">
                        <i class="fas fa-user-circle" style="margin-left: 10px;"></i>
                    </button>                    
                </div>
            </div>

            <div class="container-food">
                <img src="../../Assets/meal.png" style="margin-right: 500px; margin-left: -480px; margin-bottom: -120px; margin-top: -50px;">
                <div class="title">KIDDO VILLE Food plan</div>
                <div class="navigation">
                    <button><i class="fas fa-chevron-left"></i></button>
                    <span>Aug 04 - Aug 07</span>
                    <button><i class="fas fa-chevron-right"></i></button>
                </div>
                <div class="table-container">
                    <table>
                        <tr>
                            <th>2024 Aug</th>
                            <th>2024 Aug</th>
                            <th>2024 Aug</th>
                            <th>2024 Aug</th>
                        </tr>
                        <tr>
                            <td>Breakfast</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                        </tr>
                        <tr>
                            <td>Breakfast</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                        </tr>
                        <tr>
                            <td>Breakfast</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                        </tr>
                    </table>
                </div>
                <img src="../../Assets/snack.png" style="margin-left: 800px; margin-right: -200px; margin-top: -80px; margin-bottom: -90px;">
                <!-- Add Snack Section -->
                <div class="title">KIDDO VILLE SNACK PLAN</div>
                <div class="table-container">
                    <table>
                        <tr>
                            <th>2024 Aug</th>
                            <th>2024 Aug</th>
                            <th>2024 Aug</th>
                            <th>2024 Aug</th>
                        </tr>
                        <tr>
                            <td>Snack</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                        </tr>
                        <tr>
                            <td>Snack</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                        </tr>
                        <tr>
                            <td>Snack</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                            <td>Rice + Dhal, Sambol<br>String Hoppers + Dhal<br>Bread + Butter and Jam</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="snack-actions">
                    <button id="openSnackModal" style="margin-left: 70px; margin-right: 50px;">Add Snack</button>
                    <div class="stats" style="margin-bottom: 70px !important;">
                        <div class="stat">
                            <h3>Added Snacks</h3>
                            <p style="margin-bottom: 3px;">Milk</p>
                            <!-- You can add more snacks here -->
                        </div>
                    </div>
                </div>
                
                <!-- Snack Modal -->
                <div class="snack-modal" id="snackModal">
                    <div class="snack-modal-content">
                        <span class="close" id="closeSnackModal"><i class="fas fa-xmark"></i></span>
                        <input type="text" id="snackName" placeholder="Snack Name">
                        <button id="addSnackButton">Add Snack</button>
                    </div>
                </div>
                
                <div class="chatbox">
                    <a href="../Messager/Message.html">
                        <img src="../../Assets/message.svg" class="fas fa-comment-dots" style="margin-left: 12px; width: 24px; height: 24px; margin-top: 2px;" alt="Message Icon" />
                    </a> 
                    <div class="message-numbers" style="margin-left: -5px; margin-bottom: 15px;"><p>2</p></div>               
                </div>
        </div>
        
        <div class="profile-card" id="profileCard">
            <img src="../../Assets/back-arrow-2.svg" alt="back-arrow" style="width: 24px; height: 24px; fill:#233E8D !important;" class="back">
            <img alt="Profile picture of Thilina Perera" height="100" src="../../Assets/profilePic.png" width="100" class="profile"/>
            <h2>Thilina Perera</h2>
            <p>Student    RS0110657</p>
            <button class="profile-button">Profile</button>
            <button class="secondary-button">Parent profile</button>
            <button class="secondary-button">Guardian profile</button>
            <button class="secondary-button">Medications</button>
            <button class="logout-button">LogOut</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const profileCard = document.querySelector('.profile-card');
            const profileButton = document.querySelector('.profilebtn');
            const backButton = document.querySelector('.profile-card .back');
            const chatbox = document.querySelector('.chatbox');
            const messageDropdown = document.getElementById('messageDropdown');
            const bellIcon = document.querySelector('.bell-icon');
            const snackModal = document.getElementById('snackModal');
            const openSnackModalButton = document.getElementById('openSnackModal');
            const closeSnackModalButton = document.getElementById('closeSnackModal');

            function toggleMessageDropdown() {
                if (messageDropdown.style.display === "none" || !messageDropdown.style.display) {
                    messageDropdown.style.display = "block";
                } else {
                    messageDropdown.style.display = "none";
                }
            }

            // Show the message dropdown when the bell icon is clicked
            bellIcon.addEventListener('click', function(event) {
                event.stopPropagation(); // Prevent the event from propagating to document click handler
                toggleMessageDropdown();
            });

            // Hide the message dropdown when clicking outside of it
            document.addEventListener('click', function(event) {
                // Check if the click is outside the message dropdown and the bell icon
                if (!messageDropdown.contains(event.target) && !bellIcon.contains(event.target)) {
                    messageDropdown.style.display = "none";
                }
            });

            // Function to show the profile card
            function showProfileCard() {
                profileCard.classList.add('show');
                profileButton.classList.add('active'); // Optional: Add active class to the profile button
            }

            // Function to hide the profile card
            function hideProfileCard() {
                profileCard.classList.remove('show');
                profileButton.classList.remove('active'); // Optional: Remove active class from the profile button
            }

            // Show the profile card when the profile button is clicked
            profileButton.addEventListener('click', function() {
                showProfileCard();
            });

            // Hide the profile card when the back button is clicked
            backButton.addEventListener('click', function() {
                hideProfileCard();
            });

            // Hide the profile card when clicking outside of it
            document.addEventListener('click', function(event) {
                // Check if the click is outside the profile card
                if (!profileCard.contains(event.target) && !profileButton.contains(event.target)) {
                    hideProfileCard();
                }
            });

            // Show snack modal
            openSnackModalButton.addEventListener('click', function() {
                snackModal.classList.add('show');
            });

            // Hide snack modal
            closeSnackModalButton.addEventListener('click', function() {
                snackModal.classList.remove('show');
            });

            // Hide snack modal when clicking outside of it
            document.addEventListener('click', function(event) {
                if (!snackModal.contains(event.target) && !openSnackModalButton.contains(event.target)) {
                    snackModal.classList.remove('show');
                }
            });
        });
    </script>
</body>
</html>
